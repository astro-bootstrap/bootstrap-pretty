{"version":3,"file":"head-bootstrap-pretty-theme-toggle.js","sources":["../src/head-bootstrap-pretty-theme-toggle.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap Pretty (0.2.2): head-bootstrap-pretty-theme-toggle.js\n * Licensed under Apache-2.0 (https://github.com/bootstrap-pretty/bootstrap-pretty/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst showActiveTheme = theme => {\n    const activeThemeIcon = document.querySelector('.theme-icon-active');\n    const btnToActive = document.querySelector(`[data-bs-theme-value=\"${theme}\"]`);\n    const svgOfActiveBtn = btnToActive.querySelector('svg');\n\n    document.querySelectorAll('[data-bs-theme-value]').forEach(element => {\n        element.classList.remove('active');\n        element.querySelector('svg:nth-of-type(2)').classList.add('d-none');\n    });\n\n    btnToActive.classList.add('active');\n    btnToActive.querySelector('svg:nth-of-type(2)').classList.remove('d-none');\n\n    activeThemeIcon.outerHTML = svgOfActiveBtn.outerHTML;\n    document.querySelector('#bp-theme-dropdown svg').classList.add('theme-icon-active');\n};\n\nconst themeDropdown = () => {\n    const storedTheme = localStorage.getItem('theme');\n\n    const getPreferredTheme = () => {\n        if (storedTheme) {\n            return storedTheme;\n        }\n\n        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    };\n\n    const setTheme = theme => {\n        if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n            document.documentElement.setAttribute('data-bs-theme', 'dark');\n        } else {\n            document.documentElement.setAttribute('data-bs-theme', theme);\n        }\n    };\n\n    setTheme(getPreferredTheme());\n\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\n        if (storedTheme !== 'light' || storedTheme !== 'dark') {\n            setTheme(getPreferredTheme());\n        }\n    });\n\n    window.addEventListener('DOMContentLoaded', () => {\n        showActiveTheme(getPreferredTheme());\n\n        document.querySelectorAll('[data-bs-theme-value]').forEach(toggle => {\n            toggle.addEventListener('click', () => {\n                const theme = toggle.getAttribute('data-bs-theme-value');\n\n                localStorage.setItem('theme', theme);\n                setTheme(theme);\n                showActiveTheme(theme);\n            });\n        });\n    });\n};\n\nthemeDropdown();\n\nexport default themeDropdown;\n"],"names":["showActiveTheme","theme","activeThemeIcon","document","querySelector","btnToActive","svgOfActiveBtn","querySelectorAll","forEach","element","classList","remove","add","outerHTML","themeDropdown","storedTheme","localStorage","getItem","getPreferredTheme","window","matchMedia","matches","setTheme","documentElement","setAttribute","addEventListener","toggle","getAttribute","setItem"],"mappings":"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"}