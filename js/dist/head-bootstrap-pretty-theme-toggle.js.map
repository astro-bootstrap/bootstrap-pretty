{"version":3,"file":"head-bootstrap-pretty-theme-toggle.js","sources":["../src/head-bootstrap-pretty-theme-toggle.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Bootstrap Pretty (0.2.2): head-bootstrap-pretty-theme-toggle.js\r\n * Licensed under Apache-2.0 (https://github.com/bootstrap-pretty/bootstrap-pretty/blob/master/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nconst showActiveTheme = theme => {\r\n    const activeThemeIcon = document.querySelector('.theme-icon-active');\r\n    const btnToActive = document.querySelector(`[data-bs-theme-value=\"${theme}\"]`);\r\n    const svgOfActiveBtn = btnToActive.querySelector('svg');\r\n\r\n    document.querySelectorAll('[data-bs-theme-value]').forEach(element => {\r\n        element.classList.remove('active');\r\n        element.querySelector('svg:nth-of-type(2)').classList.add('d-none');\r\n    });\r\n\r\n    btnToActive.classList.add('active');\r\n    btnToActive.querySelector('svg:nth-of-type(2)').classList.remove('d-none');\r\n\r\n    activeThemeIcon.outerHTML = svgOfActiveBtn.outerHTML;\r\n    document.querySelector('#bp-theme-dropdown svg').classList.add('theme-icon-active');\r\n};\r\n\r\nconst themeDropdown = () => {\r\n    const storedTheme = localStorage.getItem('theme');\r\n\r\n    const getPreferredTheme = () => {\r\n        if (storedTheme) {\r\n            return storedTheme;\r\n        }\r\n\r\n        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\r\n    };\r\n\r\n    const setTheme = theme => {\r\n        if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n            document.documentElement.setAttribute('data-bs-theme', 'dark');\r\n        } else {\r\n            document.documentElement.setAttribute('data-bs-theme', theme);\r\n        }\r\n    };\r\n\r\n    setTheme(getPreferredTheme());\r\n\r\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\r\n        if (storedTheme !== 'light' || storedTheme !== 'dark') {\r\n            setTheme(getPreferredTheme());\r\n        }\r\n    });\r\n\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n        showActiveTheme(getPreferredTheme());\r\n\r\n        document.querySelectorAll('[data-bs-theme-value]').forEach(toggle => {\r\n            toggle.addEventListener('click', () => {\r\n                const theme = toggle.getAttribute('data-bs-theme-value');\r\n\r\n                localStorage.setItem('theme', theme);\r\n                setTheme(theme);\r\n                showActiveTheme(theme);\r\n            });\r\n        });\r\n    });\r\n};\r\n\r\nthemeDropdown();\r\n\r\nexport default themeDropdown;\r\n"],"names":["showActiveTheme","theme","activeThemeIcon","document","querySelector","btnToActive","svgOfActiveBtn","querySelectorAll","forEach","element","classList","remove","add","outerHTML","themeDropdown","storedTheme","localStorage","getItem","getPreferredTheme","window","matchMedia","matches","setTheme","documentElement","setAttribute","addEventListener","toggle","getAttribute","setItem"],"mappings":"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"}